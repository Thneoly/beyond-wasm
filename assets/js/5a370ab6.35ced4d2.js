"use strict";(self.webpackChunkbeyond_wasm=self.webpackChunkbeyond_wasm||[]).push([[8942],{8157:(e,s,i)=>{i.r(s),i.d(s,{assets:()=>d,contentTitle:()=>l,default:()=>h,frontMatter:()=>t,metadata:()=>n,toc:()=>c});const n=JSON.parse('{"id":"wasm/wasi/wasi-overview","title":"\u7b2c 4 \u7ae0 WASI\uff08System Interface\uff09","description":"\u76ee\u6807\uff1a\u7406\u89e3 WASI \u7684\u76ee\u6807\u3001preview1 \u5c40\u9650\u4e0e preview2 \u7684\u80fd\u529b\u6a21\u578b\uff0c\u5e76\u901a\u8fc7\u793a\u4f8b\u8bbf\u95ee\u6587\u4ef6\u4e0e\u65f6\u95f4\u3002","source":"@site/docs/wasm/04-wasi/wasi.md","sourceDirName":"wasm/04-wasi","slug":"/wasm/wasi/wasi-overview","permalink":"/beyond-wasm/docs/wasm/wasi/wasi-overview","draft":false,"unlisted":false,"editUrl":"https://github.com/Thneoly/beyond-wasm/edit/main/docs/wasm/04-wasi/wasi.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"id":"wasi-overview","title":"\u7b2c 4 \u7ae0 WASI\uff08System Interface\uff09","sidebar_label":"\u672c\u7ae0\u5bfc\u8bfb","sidebar_position":1},"sidebar":"tutorialSidebar","previous":{"title":"\u7b2c 4 \u7ae0 WASI\uff08System Interface\uff09","permalink":"/beyond-wasm/docs/book/wasi"},"next":{"title":"I/O \u4e0e\u65f6\u949f","permalink":"/beyond-wasm/docs/wasm/wasi/wasi-io-and-clocks"}}');var a=i(4848),r=i(8453);const t={id:"wasi-overview",title:"\u7b2c 4 \u7ae0 WASI\uff08System Interface\uff09",sidebar_label:"\u672c\u7ae0\u5bfc\u8bfb",sidebar_position:1},l=void 0,d={},c=[{value:"4.1 \u76ee\u6807\u4e0e\u613f\u666f",id:"41-\u76ee\u6807\u4e0e\u613f\u666f",level:2},{value:"4.2 preview1 \u7684\u8bbe\u8ba1\u4e0e\u5c40\u9650",id:"42-preview1-\u7684\u8bbe\u8ba1\u4e0e\u5c40\u9650",level:2},{value:"4.3 preview2 \u7684\u80fd\u529b\u6a21\u578b",id:"43-preview2-\u7684\u80fd\u529b\u6a21\u578b",level:2},{value:"4.4 0.1 \u2192 0.2 \u7684\u6f14\u8fdb",id:"44-01--02-\u7684\u6f14\u8fdb",level:2},{value:"4.5 \u793a\u4f8b\uff1a\u6587\u4ef6\u4e0e\u65f6\u95f4",id:"45-\u793a\u4f8b\u6587\u4ef6\u4e0e\u65f6\u95f4",level:2}];function o(e){const s={a:"a",blockquote:"blockquote",code:"code",h2:"h2",hr:"hr",li:"li",p:"p",pre:"pre",ul:"ul",...(0,r.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(s.p,{children:"\u76ee\u6807\uff1a\u7406\u89e3 WASI \u7684\u76ee\u6807\u3001preview1 \u5c40\u9650\u4e0e preview2 \u7684\u80fd\u529b\u6a21\u578b\uff0c\u5e76\u901a\u8fc7\u793a\u4f8b\u8bbf\u95ee\u6587\u4ef6\u4e0e\u65f6\u95f4\u3002"}),"\n",(0,a.jsxs)(s.blockquote,{children:["\n",(0,a.jsxs)(s.p,{children:["\u5feb\u901f\u8df3\u8f6c\uff1a\u5b8c\u6574\u7684\u8fd0\u884c\u6307\u5357\u4e0e\u4f9d\u8d56\u77e9\u9635\u89c1 ",(0,a.jsx)(s.a,{href:"https://github.com/Thneoly/beyond-wasm/blob/main/examples/README.md",children:"examples/README.md"}),"\uff08\u603b\u89c8\u5bfc\u822a + \u5de5\u5177\u94fe\u51c6\u5907 + FAQ\uff09\u3002"]}),"\n"]}),"\n",(0,a.jsx)(s.h2,{id:"41-\u76ee\u6807\u4e0e\u613f\u666f",children:"4.1 \u76ee\u6807\u4e0e\u613f\u666f"}),"\n",(0,a.jsx)(s.p,{children:"\u4e3a\u6d4f\u89c8\u5668\u5916\u7684 WASM \u63d0\u4f9b\u6807\u51c6\u5316\u7cfb\u7edf\u63a5\u53e3\uff0c\u5f3a\u8c03\u80fd\u529b\u53d7\u9650\u4e0e\u53ef\u79fb\u690d\u6027\u3002"}),"\n",(0,a.jsx)(s.h2,{id:"42-preview1-\u7684\u8bbe\u8ba1\u4e0e\u5c40\u9650",children:"4.2 preview1 \u7684\u8bbe\u8ba1\u4e0e\u5c40\u9650"}),"\n",(0,a.jsx)(s.p,{children:"\u4ee5 POSIX-ish \u63a5\u53e3\u4e3a\u4e3b\uff0c\u547d\u540d\u7a7a\u95f4\u5272\u88c2\u3001\u80fd\u529b\u7c92\u5ea6\u8f83\u7c97\u3001\u53ef\u7ec4\u5408\u6027\u4e0d\u8db3\u3002"}),"\n",(0,a.jsx)(s.h2,{id:"43-preview2-\u7684\u80fd\u529b\u6a21\u578b",children:"4.3 preview2 \u7684\u80fd\u529b\u6a21\u578b"}),"\n",(0,a.jsx)(s.p,{children:"\u80fd\u529b\u5bfc\u5411\uff08capability-based\uff09\u3001\u63a5\u53e3\u7c7b\u578b\u7edf\u4e00\u3001\u9762\u5411\u7ec4\u4ef6\u6a21\u578b\u53cb\u597d\u3002\n\u793a\u4f8b\u80fd\u529b\uff1a"}),"\n",(0,a.jsxs)(s.ul,{children:["\n",(0,a.jsx)(s.li,{children:"\u6587\u4ef6\u7cfb\u7edf\uff1a\u4ee5\u201c\u9884\u6253\u5f00\u76ee\u5f55\u201d\u6388\u4e88\u76f8\u5bf9\u8def\u5f84\u8bbf\u95ee\u6743\uff1b"}),"\n",(0,a.jsx)(s.li,{children:"\u65f6\u949f\uff1a\u6388\u4e88\u9ad8\u7cbe\u5ea6/\u58c1\u949f\u65f6\u95f4\u8bbf\u95ee\uff1b"}),"\n",(0,a.jsx)(s.li,{children:"HTTP/\u7f51\u7edc\uff1a\u901a\u8fc7\u4e13\u7528\u63a5\u53e3\u65cf\u6388\u4e88\uff08\u5982 WASI HTTP\uff09\u3002"}),"\n"]}),"\n",(0,a.jsx)(s.h2,{id:"44-01--02-\u7684\u6f14\u8fdb",children:"4.4 0.1 \u2192 0.2 \u7684\u6f14\u8fdb"}),"\n",(0,a.jsx)(s.p,{children:"\u63a5\u53e3\u6574\u5408\u3001\u8bed\u4e49\u5f3a\u5316\u3001\u8de8\u8fd0\u884c\u65f6\u4e00\u81f4\u6027\u63d0\u5347\u3002"}),"\n",(0,a.jsx)(s.h2,{id:"45-\u793a\u4f8b\u6587\u4ef6\u4e0e\u65f6\u95f4",children:"4.5 \u793a\u4f8b\uff1a\u6587\u4ef6\u4e0e\u65f6\u95f4"}),"\n",(0,a.jsxs)(s.p,{children:["\u53c2\u89c1 ",(0,a.jsx)(s.a,{href:"https://github.com/Thneoly/beyond-wasm/tree/main/examples/ch04/wasi_fs_time",children:"examples/ch04/wasi_fs_time/"}),"\uff1a"]}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-bash",children:"rustup target add wasm32-wasi\ncd examples/ch04/wasi_fs_time\ncargo build --release --target wasm32-wasi\n\n# \u9884\u6253\u5f00\u5f53\u524d\u76ee\u5f55\uff0c\u8bfb\u53d6 sample.txt \u5e76\u6253\u5370\u5f53\u524d\u65f6\u95f4\nwasmtime --dir=. target/wasm32-wasi/release/wasi_fs_time.wasm sample.txt\n"})}),"\n",(0,a.jsx)(s.p,{children:"\u6269\u5c55\uff1a"}),"\n",(0,a.jsxs)(s.ul,{children:["\n",(0,a.jsx)(s.li,{children:"HTTP\uff1a\u57fa\u4e8e WASI HTTP/\u7ec4\u4ef6\u6a21\u578b\u5b9e\u73b0\u8bf7\u6c42\u5904\u7406\uff0c\u89c1\u7b2c 6 \u7ae0 HTTP \u573a\u666f\u3002"}),"\n",(0,a.jsx)(s.li,{children:"\u65f6\u949f\uff1a\u4e0d\u540c\u8fd0\u884c\u65f6\u5bf9\u7cbe\u5ea6/\u6743\u9650\u7b56\u7565\u53ef\u80fd\u4e0d\u540c\uff0c\u6ce8\u610f\u9519\u8bef\u5904\u7406\u4e0e\u964d\u7ea7\u7b56\u7565\u3002"}),"\n"]}),"\n",(0,a.jsx)(s.hr,{}),"\n",(0,a.jsx)(s.p,{children:"\u5c0f\u7ed3\uff1aWASI \u4e3a WASM \u8d4b\u4e88\u53d7\u63a7 I/O \u80fd\u529b\uff0c\u662f\u6d4f\u89c8\u5668\u5916\u8fd0\u884c\u7684\u5173\u952e\u57fa\u7840\u3002"}),"\n",(0,a.jsx)(s.hr,{}),"\n",(0,a.jsx)(s.p,{children:"\u66f4\u591a\u5185\u5bb9\uff1a"}),"\n",(0,a.jsxs)(s.ul,{children:["\n",(0,a.jsx)(s.li,{children:"\u80fd\u529b\u6a21\u578b\u4e0e\u6743\u9650\u6388\u4e88 \u2192 ./capability-model"}),"\n",(0,a.jsx)(s.li,{children:"I/O \u4e0e\u65f6\u949f \u2192 ./io-and-clocks"}),"\n"]})]})}function h(e={}){const{wrapper:s}={...(0,r.R)(),...e.components};return s?(0,a.jsx)(s,{...e,children:(0,a.jsx)(o,{...e})}):o(e)}},8453:(e,s,i)=>{i.d(s,{R:()=>t,x:()=>l});var n=i(6540);const a={},r=n.createContext(a);function t(e){const s=n.useContext(r);return n.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function l(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:t(e.components),n.createElement(r.Provider,{value:s},e.children)}}}]);