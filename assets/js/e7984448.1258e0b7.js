"use strict";(self.webpackChunkbeyond_wasm=self.webpackChunkbeyond_wasm||[]).push([[6816],{7855:(e,n,o)=>{o.r(n),o.d(n,{assets:()=>d,contentTitle:()=>l,default:()=>a,frontMatter:()=>c,metadata:()=>t,toc:()=>r});const t=JSON.parse('{"id":"wasm/component-model/component-composition","title":"\u7ec4\u5408\u4e0e\u5bbf\u4e3b","description":"\u7ec4\u4ef6\u7ec4\u5408\u53ef\u4ee5\u5728\u4e0d\u4fee\u6539\u7ec4\u4ef6\u4ee3\u7801\u7684\u60c5\u51b5\u4e0b\uff0c\u7528 WIT \u4e0e glue \u8fdb\u884c\u62fc\u88c5\uff0c\u4ee5\u5b9e\u73b0\u8de8\u8bed\u8a00\u590d\u7528\u4e0e\u6f14\u8fdb\u3002","source":"@site/docs/wasm/05-component-model/composition.md","sourceDirName":"wasm/05-component-model","slug":"/wasm/component-model/component-composition","permalink":"/beyond-wasm/docs/wasm/component-model/component-composition","draft":false,"unlisted":false,"editUrl":"https://github.com/Thneoly/beyond-wasm/edit/main/docs/wasm/05-component-model/composition.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"id":"component-composition","title":"\u7ec4\u5408\u4e0e\u5bbf\u4e3b","sidebar_label":"\u7ec4\u5408\u4e0e\u5bbf\u4e3b","sidebar_position":2},"sidebar":"tutorialSidebar","previous":{"title":"\u672c\u7ae0\u5bfc\u8bfb","permalink":"/beyond-wasm/docs/wasm/component-model/component-model-overview"},"next":{"title":"WIT \u4e0e World","permalink":"/beyond-wasm/docs/wasm/component-model/component-wit-and-world"}}');var s=o(4848),i=o(8453);const c={id:"component-composition",title:"\u7ec4\u5408\u4e0e\u5bbf\u4e3b",sidebar_label:"\u7ec4\u5408\u4e0e\u5bbf\u4e3b",sidebar_position:2},l="\u7ec4\u5408\u4e0e\u5bbf\u4e3b",d={},r=[{value:"\u7ec4\u5408\u65b9\u5f0f",id:"\u7ec4\u5408\u65b9\u5f0f",level:2},{value:"\u811a\u672c\u5316\u4f8b\u5b50",id:"\u811a\u672c\u5316\u4f8b\u5b50",level:2},{value:"\u7ec4\u5408\u7b56\u7565\u6743\u8861",id:"\u7ec4\u5408\u7b56\u7565\u6743\u8861",level:2}];function m(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",mermaid:"mermaid",p:"p",pre:"pre",ul:"ul",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"\u7ec4\u5408\u4e0e\u5bbf\u4e3b",children:"\u7ec4\u5408\u4e0e\u5bbf\u4e3b"})}),"\n",(0,s.jsx)(n.p,{children:"\u7ec4\u4ef6\u7ec4\u5408\u53ef\u4ee5\u5728\u4e0d\u4fee\u6539\u7ec4\u4ef6\u4ee3\u7801\u7684\u60c5\u51b5\u4e0b\uff0c\u7528 WIT \u4e0e glue \u8fdb\u884c\u62fc\u88c5\uff0c\u4ee5\u5b9e\u73b0\u8de8\u8bed\u8a00\u590d\u7528\u4e0e\u6f14\u8fdb\u3002"}),"\n",(0,s.jsx)(n.h2,{id:"\u7ec4\u5408\u65b9\u5f0f",children:"\u7ec4\u5408\u65b9\u5f0f"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\u9759\u6001\u7ec4\u5408\uff1a",(0,s.jsx)(n.code,{children:"component compose"})," \u4ea7\u751f\u65b0\u7ec4\u4ef6\uff1b"]}),"\n",(0,s.jsx)(n.li,{children:"\u5bbf\u4e3b\u7ec4\u5408\uff1a\u7531\u5bbf\u4e3b\u5728\u8fd0\u884c\u65f6\u6309\u8def\u7531/\u7b56\u7565\u8c03\u7528\u591a\u4e2a\u7ec4\u4ef6\uff1b"}),"\n",(0,s.jsx)(n.li,{children:"\u80f6\u6c34\u7ec4\u4ef6\uff1a\u5b9e\u73b0\u7edf\u4e00\u63a5\u53e3\uff0c\u5185\u90e8\u518d\u8c03\u5ea6\u5176\u4ed6\u7ec4\u4ef6\u3002"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"\u6d41\u7a0b\u793a\u610f\uff1a"}),"\n",(0,s.jsx)(n.mermaid,{value:"flowchart LR\n\tA[add.component] --\x3e Glue[glue.component]\n\tB[inc.component] --\x3e Glue\n\tGlue --\x3e Host[HTTP Host]\n\tHost --\x3e Client[HTTP Client]\n\tstyle Glue fill:#eef,stroke:#88a"}),"\n",(0,s.jsx)(n.h2,{id:"\u811a\u672c\u5316\u4f8b\u5b50",children:"\u811a\u672c\u5316\u4f8b\u5b50"}),"\n",(0,s.jsxs)(n.p,{children:["\u53c2\u8003 ",(0,s.jsx)(n.a,{href:"https://github.com/Thneoly/beyond-wasm/tree/main/examples/ch05/components_composition",children:"examples/ch05/components_composition"}),"\uff1a"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"bash componentize-ch03.sh       # \u4ece ch03 \u6838\u5fc3\u6a21\u5757\u751f\u6210\u7ec4\u4ef6\nbash compose-add-inc.sh         # \u7ec4\u5408 add + inc\nbash build-components.sh        # \u5feb\u901f\u6784\u5efa\u4e09\u4e2a\u7ec4\u4ef6\u5e76\u67e5\u770b WIT\nbash run-glue.sh 2 3            # \u8c03\u7528 glue \u7ec4\u4ef6\u5bfc\u51fa\n"})}),"\n",(0,s.jsxs)(n.p,{children:["\u5bbf\u4e3b\u4fa7\u66f4\u590d\u6742\u7684\u7ec4\u5408\u53c2\u8003 ",(0,s.jsx)(n.a,{href:"https://github.com/Thneoly/beyond-wasm/tree/main/examples/ch06/component_http_host",children:"examples/ch06/component_http_host"}),"\uff08\u542b\u6c60\u5316\u4e0e\u591a\u6a21\u5f0f\uff09\u3002"]}),"\n",(0,s.jsx)(n.h2,{id:"\u7ec4\u5408\u7b56\u7565\u6743\u8861",children:"\u7ec4\u5408\u7b56\u7565\u6743\u8861"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"\u9759\u6001\u7ec4\u5408\uff1a\u542f\u52a8\u66f4\u5feb\u3001\u4ea4\u4ed8\u7b80\u5355\uff0c\u4f46\u7075\u6d3b\u6027\u8f83\u4f4e\uff1b"}),"\n",(0,s.jsx)(n.li,{children:"\u5bbf\u4e3b\u7ec4\u5408\uff1a\u7075\u6d3b\u53ef\u89c2\u6d4b\uff0c\u53ef\u505a A/B \u6216\u7070\u5ea6\uff0c\u4f46\u9700\u8981\u989d\u5916\u7684\u8c03\u5ea6\u4e0e\u7f13\u5b58\uff1b"}),"\n",(0,s.jsx)(n.li,{children:"\u80f6\u6c34\u7ec4\u4ef6\uff1a\u7edf\u4e00\u63a5\u53e3\u3001\u7a33\u5b9a\u8c03\u7528\u70b9\uff0c\u6709\u5229\u4e8e\u591a\u8bed\u8a00\u534f\u4f5c\u4e0e\u6f14\u8fdb\u3002"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"\u9519\u8bef\u5904\u7406\u5efa\u8bae\uff1a"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"\u7528 result/variant \u627f\u8f7d\u4e1a\u52a1\u9519\u8bef\uff0c\u907f\u514d panic \u4f20\u9012\u5230 Host\uff1b"}),"\n",(0,s.jsx)(n.li,{children:"Host \u4fa7\u8bb0\u5f55\u7ec4\u4ef6\u8c03\u7528\u8017\u65f6/\u9519\u8bef\u7801\uff0c\u5f62\u6210\u53ef\u89c2\u6d4b\u57fa\u7ebf\uff1b"}),"\n",(0,s.jsx)(n.li,{children:"\u5bf9\u8de8\u7ec4\u4ef6\u8c03\u7528\u94fe\u8bbe\u7f6e\u8d85\u65f6\u4e0e\u91cd\u8bd5\u7b56\u7565\u3002"}),"\n"]})]})}function a(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(m,{...e})}):m(e)}},8453:(e,n,o)=>{o.d(n,{R:()=>c,x:()=>l});var t=o(6540);const s={},i=t.createContext(s);function c(e){const n=t.useContext(i);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:c(e.components),t.createElement(i.Provider,{value:n},e.children)}}}]);